<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 
    <link rel="stylesheet" href="css/fw2020.css">
    
    
   <title>Swift Sass v0.3.0</title>
    
  </head>
  <body class="j2-swift " data-root-path="./" data-doc-path="index.html" data-assets-path="">

  <!-- messages for search -->
  <div hidden>
    <span id="text-loading">Loading index...</span>
    <span id="text-failed">Failed to load index</span>
    <span id="text-notfound">No matches</span>
  </div>

  <header class="j2-header">
  <div class="navbar navbar-expand navbar-dark j2-titlebar">
  <a class="sr-only-focusable sr-only font-weight-slightly-bold pr-2" href="#main-content">Skip to main content</a>
  <a class="nav-item nav-link pl-0 pt-1 pr-2 d-md-none" id="nav-toggle-button" role="button" aria-controls="nav-column" aria-expanded="false" aria-label="Toggle navigation" href="#">
    <span class="navbar-toggler-icon"></span>
  </a>

  <div style="align-items-baseline">
    <div class="navbar-brand mr-1 font-weight-slightly-bold">
      
      <a href="index.html">
      
      Swift Sass v0.3.0</a>
    </div>
    
    <span class="navbar-text j2-coverage font-weight-slightly-bold small d-none d-lg-inline-block mr-2">(100% documented)</span>
    
  </div>

  <div class="navbar-nav ml-auto justify-content-end flex-fill">

    
    <form class="form-inline d-none d-md-flex" role="search">
      <input class="form-control form-control-sm w-100" type="search" placeHolder="Search" aria-label="Search" aria-keyshortcuts="/" data-search-format="span">
    </form>
    

    

    
    <a class="nav-item nav-link d-none d-sm-inline" rel="external" href="https://github.com/johnfairh/swift-sass">
      <svg class="j2-title-svg" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 16 16"><title>Open on GitHub</title><path fill="currentcolor" fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
      </svg>
    </a>
    
    
    
    

    
      <a class="nav-item nav-link d-none d-sm-inline" rel="alternate" href="dash-feed://https%3A%2F%2Fjohnfairh%2Egithub%2Eio%2Fswift%2Dsass%2Fdocsets%2Fswift%2Dsass%2Exml">
      <svg class="j2-title-svg" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 700 670">
        <title>Open in Dash</title>
        <path fill="currentcolor" d="m0 0 132.58 160.54h130.76v0.0312c63.501 0.196 140.87-6.9887 193.12 10.227 26.125 8.6076 43.475 19.899 57.578 40.781 14.103 20.882 26.733 55.737 25.781 118.52-0.8784 57.953-16.7 88.91-38.672 112.89-21.972 23.98-54.208 41.154-90.703 51.953-28.462 8.4219-55.314 10.153-80.547 11.953v-266.25h-160v419.92l71.328 7.8125s103.75 12.802 214.61-20c55.429-16.401 115.46-45.078 163.28-97.266 47.816-52.187 79.327-127.83 80.703-218.59 1.3028-85.935-16.743-156.6-53.125-210.47-36.382-53.871-89.369-86.47-140.16-103.2-50.787-16.733-101.87-18.272-145.08-18.504-43.211-0.2316-78.502 0.0768-97.578 0.0176v2e-3h-131.31z"/>
      </svg>
    </a>
    

    

  </div>
</div>

<!-- narrow-style searchbar -->


<div class="container-fluid j2-titlebar d-md-none">
  <div class="row">
    <div class="col">
      <form class="pb-2">
        <input class="form-control form-control-sm" type="search" placeHolder="Search" aria-label="Search" aria-keyshortcuts="/" data-search-format="div">
      </form>
    </div>
  </div>
</div>


  <nav aria-label="breadcrumb" class="small">
  
    <ol class="breadcrumb j2-breadcrumb">
      <li class="breadcrumb-item">Index</li>
    </ol>
  
  
</nav>

  </header>

  <div class="container-fluid">
    <div class="row">
      <div class="col-auto d-none d-md-flex flex-column j2-nav" id="nav-column">
  
    <nav aria-label="Swift" class="j2-swift">
    <ul class="j2-nav-list">
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="sass-compilation.html?swift">Sass Compilation</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="sassembedded/types/compiler.html?swift">Compiler</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/syntax.html?swift">Syntax</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/cssstyle.html?swift">CssStyle</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/importresolver.html?swift">ImportResolver</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/compilermessagestyle.html?swift">CompilerMessageStyle</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/compilerresults.html?swift">CompilerResults</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/compilermessage.html?swift">CompilerMessage</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/compilermessage/kind.html?swift">Kind</a>



  </li>
  
</ul>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/compilererror.html?swift">CompilerError</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/span1.html?swift">Span</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/span1/location.html?swift">Location</a>



  </li>
  
</ul>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="custom-importers.html?swift">Custom Importers</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/importer.html?swift">Importer</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/importerresults.html?swift">ImporterResults</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sassembedded/types/asyncimporter.html?swift">AsyncImporter</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="custom-functions.html?swift">Custom Functions</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="custom-functions.html?swift#sassfunction">SassFunction</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="custom-functions.html?swift#sassasyncfunction">SassAsyncFunction</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="custom-functions.html?swift#sassfunctionsignature">SassFunctionSignature</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="custom-functions.html?swift#sassfunctionmap">SassFunctionMap</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="custom-functions.html?swift#sassasyncfunctionmap">SassAsyncFunctionMap</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="sassscript.html?swift">SassScript</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/sassvalue7.html?swift">SassValue</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/sassstring.html?swift">SassString</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/sassnumber.html?swift">SassNumber</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/sasscolor.html?swift">SassColor</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/sassconstants.html?swift">SassConstants</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/sasslist.html?swift">SassList</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/sasslist/separator.html?swift">Separator</a>



  </li>
  
</ul>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/sassmap.html?swift">SassMap</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/sasscompilerfunction.html?swift">SassCompilerFunction</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/sassdynamicfunction.html?swift">SassDynamicFunction</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sassembedded/types/sassasyncdynamicfunction.html?swift">SassAsyncDynamicFunction</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/sassvaluevisitor.html?swift">SassValueVisitor</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/sassnull.html?swift">SassNull</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/sassbool.html?swift">SassBool</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="errors.html?swift">Errors</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="sassembedded/types/protocolerror.html?swift">ProtocolError</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sassembedded/types/lifecycleerror.html?swift">LifecycleError</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="sass/types/sassfunctionerror.html?swift">SassFunctionError</a>



  </li>
  
</ul>



      </li>
      
    </ul>
  </nav>
  
</div>

      <main class="col col-xl-8 j2-article px-lg-4 px-xl-5" id="article-column">
        <article class="j2-article-wrapper" id="main-content">

        <section>
          
          
          
          
          <!--
swift-sass
README.md
Distributed under the MIT license, see LICENSE.
-->
<p><img src="https://img.shields.io/badge/platform-macOS%20%7C%20linux-lightgrey.svg" alt="Platforms" />
<a href="https://codecov.io/gh/johnfairh/swift-sass"><img src="https://codecov.io/gh/johnfairh/swift-sass/branch/main/graph/badge.svg?token=0NAP6IA9EB" alt="codecov" /></a>
<img src="https://github.com/johnfairh/swift-sass/workflows/Tests/badge.svg" alt="Tests" /></p>
<h1 class="j2-anchor j2-heading heading" id="swift-sass">
<span data-anchor-id="swift-sass">
Swift Sass
</span></h1>
<p>Embed the Dart <a href="https://sass-lang.com">Sass</a> compiler in your Swift program.  Write
stylesheet importers and SassScript functions in Swift.</p>
<p>This package provides a Swift language interface to a separate Sass
implementation.  The <code>SassEmbedded</code> module lets you access
<a href="https://sass-lang.com/dart-sass">Dart Sass</a>,
the most up to date implementation of the Sass language.  It runs the
<a href="https://github.com/sass/dart-sass">Dart Sass compiler</a> as a separate process
and communicates with it using the
<a href="https://github.com/sass/embedded-protocol">Sass embedded protocol</a>.  If you
come across another implementation of the ‘compiler’ side of the protocol then
that should work fine too.</p>
<p>The Sass embedding technology is pretty new.  Right now the <a href="https://github.com/sass/dart-sass-embedded/releases">embedded compiler
releases</a> are all tagged
as alphas.</p>
<p>This package doesn’t support LibSass right now.  <a href="#on-libsass">More info</a>.</p>
<ul>
<li><a href="#examples">Examples</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#contributions">Contributions</a></li>
<li><a href="#license">License</a></li>
</ul>
<h2 class="j2-anchor j2-heading heading" id="examples">
<span data-anchor-id="examples">
Examples
</span></h2>
<p>Minimally:</p>
<pre><code class="language-swift">import SassEmbedded

let compiler = try Compiler(eventLoopGroupProvider: .createNew)

let results = try compiler.compile(fileURL: scssFileURL)

print(results.css)
</code></pre>
<p>Although the compiler output is more structured, you’d probably be just as well
off running the binary directly.  The reason to use this package is to provide
custom implementations of <code>@use</code> rules to load content, and custom functions to
provide application-specific behavior:</p>
<pre><code class="language-swift">
struct ExtrasImporter: Importer {
  func canonicalize(importURL: String) throws -&gt; URL? {
    guard importURL == &quot;extras&quot; else {
      return nil
    }
    return URL(string: &quot;custom://extras&quot;)
  }

  func load(canonicalURL: URL) throws -&gt; ImporterResults {
    ImporterResults(my_extras_stylesheet)
  }
}

let customFunctions: SassFunctionMap = [
  &quot;userColorForScore($score)&quot; : { args in
    let score = try args[0].asInt()
    return SassColor(...)
  }
]

let results = try compiler.compile(
    fileURL: scssFileURL,
    importers: [
      .loadPath(sassIncludeDirectoryFileURL),
      .importer(ExtrasImporter())
    ],
    functions: customFunctions
)
</code></pre>
<pre><code class="language-scss">// stylesheet

@use &quot;extras&quot;;

.score-mid {
  color: userColorForScore(50);
}
</code></pre>
<p>These example are written in a synchronous style for simplicity.
<code>SassEmbedded</code> is built on
<a href="https://github.com/apple/swift-nio">NIO</a> and there are corresponding
asynchronous / non-blocking APIs.</p>
<h2 class="j2-anchor j2-heading heading" id="documentation">
<span data-anchor-id="documentation">
Documentation
</span></h2>
<ul>
<li><a href="https://johnfairh.github.io/swift-sass/">API documentation</a></li>
<li>Dash docset <a href="dash-feed://https%3A%2F%2Fjohnfairh%2Egithub%2Eio%2Fswift%2Dsass%2Fdocsets%2Fswift%2Dsass%2Exml">feed</a> or <a href="https://johnfairh.github.io/swift-sass/docsets/swift-sass.tgz">direct download</a></li>
</ul>
<h2 class="j2-anchor j2-heading heading" id="requirements">
<span data-anchor-id="requirements">
Requirements
</span></h2>
<ul>
<li>Swift 5.3</li>
<li>macOS 10.15+ (tested on macOS 10.15.7, macOS 11.0 IA64)</li>
<li>Linux (tested on Ubuntu 18.04.5)</li>
<li>Embedded Sass Protocol version 1.0.0-beta.8</li>
</ul>
<h2 class="j2-anchor j2-heading heading" id="installation">
<span data-anchor-id="installation">
Installation
</span></h2>
<p>Only with Swift Package Manager, via Xcode or directly:</p>
<pre><code class="language-swift">.package(name: &quot;swift-sass&quot;,
         url: &quot;https://github.com/johnfairh/swift-sass.git&quot;,
         from: &quot;0.3.0&quot;)
</code></pre>
<p>The Swift package bundles the embedded Dart Sass compiler for macOS and Linux
(specifically Ubuntu Xenial/16.04 64-bit).  For other platforms you will need
to either download the correct version from
<a href="https://github.com/sass/dart-sass-embedded/release">the release page</a> or build
it manually, ship it as part of your program’s distribution, and use
<a href="https://johnfairh.github.io/swift-sass/sassembedded/types/compiler.html?swift#initeventloopgroupprovidertimeoutimportersfunctions">this initializer</a>.</p>
<p>There is no need to install a Dart runtime or SDK as part of this, the
<code>dart-embedded-sass</code> program is standalone.  The version required is
<code>1.0.0-beta.7</code>.</p>
<h2 class="j2-anchor j2-heading heading" id="on-libsass">
<span data-anchor-id="on-libsass">
On LibSass
</span></h2>
<p><a href="https://sass-lang.com/libsass">LibSass</a> is the C++ implementation of Sass.
In recent years it has fallen behind the specification and reference
implementations, and was
<a href="https://sass-lang.com/blog/libsass-is-deprecated">deprecated in 2020</a>.
However, work is underway to revive the project and it may be that LibSass 4
emerges as an alternative Sass implementation with the same level of language
support as Dart Sass.</p>
<p>This may eventually be a more convenient integration path for Swift programs and
this <code>swift-sass</code> package should support it as an alternative.</p>
<h2 class="j2-anchor j2-heading heading" id="contributions">
<span data-anchor-id="contributions">
Contributions
</span></h2>
<p>Welcome: open an issue / <a href="mailto:johnfairh@gmail.com">johnfairh@gmail.com</a> / @johnfairh</p>
<h2 class="j2-anchor j2-heading heading" id="license">
<span data-anchor-id="license">
License
</span></h2>
<p>Distributed under the MIT license.</p>
        </section>

        


        
        <div class="flex-grow-1"></div>
        <nav aria-label="paging" class="j2-pagination pb-3 pt-2">
  <div id="pagination-prev" class="flex-fill">
  
    <a class="j2-swift" href="sass/types/sassfunctionerror.html?swift" aria-keyshortcuts="p">
  <span aria-hidden="true">&laquo; </span>SassFunctionError
</a>

    <a class="j2-objc j2-secondary" href="sass/types/sassfunctionerror.html?swift" aria-keyshortcuts="p">
  <span aria-hidden="true">&laquo; </span>SassFunctionError
</a>

  
  
  </div>
  <div id="pagination-next" class="flex-fill text-right">
  
    <a class="j2-swift" href="sass-compilation.html?swift" aria-keyshortcuts="n">
  Sass Compilation<span aria-hidden="true"> &raquo;</span>
</a>

    <a class="j2-objc j2-secondary" href="sass-compilation.html?swift" aria-keyshortcuts="n">
  Sass Compilation<span aria-hidden="true"> &raquo;</span>
</a>

  
  
  </div>
</nav>

        

        </article>
      </main>

      <div class="col-xl d-none d-xl-block j2-aux-nav" id="aux-nav-column">
  <div class="j2-aux-nav-wrapper">
    
    <div class="j2-swift">
    <h6 class="j2-inline-heading">Topics</h6>
    <nav aria-label="page">
      <ul class="j2-aux-group">
        
        <li><a href="#swift-sass">Swift Sass</a></li>
        
        <li><a href="#examples">Examples</a></li>
        
        <li><a href="#documentation">Documentation</a></li>
        
        <li><a href="#requirements">Requirements</a></li>
        
        <li><a href="#installation">Installation</a></li>
        
        <li><a href="#on-libsass">On LibSass</a></li>
        
        <li><a href="#contributions">Contributions</a></li>
        
        <li><a href="#license">License</a></li>
        
      </ul>
    </nav>
    </div>
    
    
    <h6 class="j2-inline-heading">Actions</h6>
    <ul class="j2-aux-group">
      
      <li><a class="j2-aux-action" id="action-search" href="#" role="button" aria-keyshortcuts="/">Search (/)</a></li>
      
      
      
    </ul>
    
  </div>
</div>


    </div> <!-- end row -->

    <footer class="row">
  <div class="col j2-footer small pt-2">
    <p><p>Distributed under the MIT license.  Maintained by <a href="mailto:johnfairh@gmail.com">John Fairhurst</a>.</p></p>
    
    <p>Generated by <a class="link" href="https://github.com/johnfairh/Bebop" target="_blank" rel="external">Bebop v1.2.0</a> using the FW2020 theme, based on technology from <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫</a>.</p>
    
  </div>
</footer>

  </div> <!-- container -->

  <script src="js/dependencies.min.js"></script>
  
  <script src="js/fw2020.js"></script>
  </body>
</html>
